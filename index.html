<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>E-commerce Store</title>
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body { font-family: Arial, sans-serif; background: #f9fafb; color: #333; }

    /* Navbar */
    header { background: white; padding: 1rem 2rem; display: flex; flex-wrap: wrap;
             justify-content: space-between; align-items: center; box-shadow: 0 2px 6px rgba(0,0,0,0.1);}
    .logo { font-size: 1.5rem; font-weight: bold; color: #4f46e5; }
    nav { display: flex; gap: 1rem; align-items: center; flex-wrap: wrap; }
    nav select, nav input { padding: 0.5rem; border: 1px solid #ccc; border-radius: 4px; }

    /* Main Content */
    main { max-width: 1200px; margin: 2rem auto; padding: 0 1rem; }
    h2 { margin-bottom: 1rem; }
    .products { display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 1rem; justify-content: start; /* <-- keeps items aligned left */ }
    .card { background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 5px rgba(0,0,0,0.1); display: flex; flex-direction: column; }
    .card img { width: 100%; height: 180px; object-fit: cover; }
    .card-body { padding: 1rem; flex: 1; display: flex; flex-direction: column; justify-content: space-between; }
    .card h3 { margin: 0; font-size: 1.1rem; }
    .price { font-weight: bold; margin: 0.5rem 0; }
    .btn { padding: 0.5rem 1rem; border: none; border-radius: 4px; cursor: pointer; }
    .btn-add { background: #4f46e5; color: white; }

    /* Cart */
    .cart { position: fixed; right: 1rem; bottom: 1rem; background: white; border: 1px solid #ddd; border-radius: 8px; padding: 1rem; width: 300px; max-height: 60vh; overflow-y: auto;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);}
    .cart h4 { margin-bottom: 0.5rem; }
    .cart ul { list-style: none; padding: 0; margin: 0; }
    .cart li { display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem; font-size: 0.9rem; }
    .remove-btn { background: none; border: none; font-size: 1rem; cursor: pointer; color: black; margin-left: 8px; }
    .checkout { background: green; color: white; width: 100%; margin-top: 0.5rem; }

    /* Responsive tweaks */
    @media (max-width: 600px) {
      header { flex-direction: column; align-items: flex-start; gap: 0.5rem; }
      .cart { width: 90%; right: 5%; bottom: 1rem; }
    }
  </style>
</head>
<body>
  <header>
    <div class="logo">ShopCraft</div>
    <nav>
      <select id="category">
        <option value="all">All Categories</option>
        <option value="shoes">Shoes</option>
        <option value="bags">Bags</option>
        <option value="electronics">Electronics</option>
        <option value="home">Home</option>
      </select>
      <select id="sort">
        <option value="default">Sort By</option>
        <option value="low-high">Price: Low to High</option>
        <option value="high-low">Price: High to Low</option>
      </select>
      <input id="search" type="text" placeholder="Search products..."/>
    </nav>
  </header>

  <main>
    <h2>Our Products</h2>
    <div class="products" id="product-list"></div>
  </main>

  <div class="cart" id="cart">
    <h4>Your Cart</h4>
    <ul id="cart-items"></ul>
    <div id="total">Total: $0.00</div>
    <button class="btn checkout">Checkout</button>
  </div>

  <!-- Notification div -->
<div id="notification" style="
    position: fixed;
    bottom: 1rem;
    left: 1rem; /* <-- moved from right to left */
    background: #333;
    color: #fff;
    padding: 1rem 1.5rem;
    border-radius: 8px;
    opacity: 0;
    pointer-events: none;
    transition: all 0.5s;
">
  Notification
</div>

  <script>
    const products = [
      { id: 1, name: "Aurora Sneakers", category: "shoes", price: 89.99, img: "https://picsum.photos/seed/p1/400/250" },
      { id: 2, name: "Lumen Backpack", category: "bags", price: 59.00, img: "https://picsum.photos/seed/p2/400/250" },
      { id: 3, name: "Nebula Headphones", category: "electronics", price: 129.99, img: "https://picsum.photos/seed/p3/400/250" },
      { id: 4, name: "Horizon Lamp", category: "home", price: 39.50, img: "https://picsum.photos/seed/p4/400/250" },
      { id: 5, name: "Galaxy Watch", category: "electronics", price: 199.99, img: "https://picsum.photos/seed/p5/400/250" },
      { id: 6, name: "Trail Boots", category: "shoes", price: 120.00, img: "https://picsum.photos/seed/p6/400/250" }
    ];

    let cart = [];
    const productList = document.getElementById("product-list");
    const cartItems = document.getElementById("cart-items");
    const totalDiv = document.getElementById("total");
    const categoryFilter = document.getElementById("category");
    const sortSelect = document.getElementById("sort");
    const searchInput = document.getElementById("search");

    function renderProducts(list) {
      productList.innerHTML = "";
      list.forEach(p => {
        const card = document.createElement("div");
        card.className = "card";
        card.innerHTML = `
          <img src="${p.img}" alt="${p.name}">
          <div class="card-body">
            <h3>${p.name}</h3>
            <div class="price">$${p.price.toFixed(2)}</div>
            <button class="btn btn-add">Add to Cart</button>
          </div>
        `;
        card.querySelector("button").addEventListener("click", () => addToCart(p));
        productList.appendChild(card);
      });
    }

    function renderCart() {
      cartItems.innerHTML = "";
      let total = 0;
      cart.forEach(item => {
        total += item.price * item.qty;
        const li = document.createElement("li");
        li.innerHTML = `
          ${item.name} x${item.qty} - $${(item.price*item.qty).toFixed(2)}
          <button class="remove-btn" onclick="removeFromCart(${item.id})">✖</button>
        `;
        cartItems.appendChild(li);
      });
      totalDiv.textContent = "Total: $" + total.toFixed(2);
    }

    function addToCart(product) {
      const found = cart.find(i => i.id === product.id);
      if (found) found.qty++;
      else cart.push({ ...product, qty: 1 });
      renderCart();
    }

    function removeFromCart(id) {
      cart = cart.filter(item => item.id !== id);
      renderCart();
    }

    function applyFilters() {
      let filtered = [...products];
      const category = categoryFilter.value;
      const search = searchInput.value.toLowerCase();
      const sort = sortSelect.value;

      if (category !== "all") {
        filtered = filtered.filter(p => p.category === category);
      }
      if (search) {
        filtered = filtered.filter(p => p.name.toLowerCase().includes(search));
      }
      if (sort === "low-high") {
        filtered.sort((a,b) => a.price - b.price);
      } else if (sort === "high-low") {
        filtered.sort((a,b) => b.price - a.price);
      }

      renderProducts(filtered);
    }

    // Event listeners
    categoryFilter.addEventListener("change", applyFilters);
    sortSelect.addEventListener("change", applyFilters);
    searchInput.addEventListener("input", applyFilters);

    // Init
    renderProducts(products);
    renderCart();

    const notification = document.getElementById("notification");

  function showNotification(message) {
    notification.textContent = message;
    notification.style.opacity = "1";
    notification.style.transform = "translateY(0)";
    setTimeout(() => {
      notification.style.opacity = "0";
      notification.style.transform = "translateY(20px)";
    }, 2000);
  }

  // Example usage in cart functions:
  function addToCart(product) {
    const found = cart.find(i => i.id === product.id);
    if (found) found.qty++;
    else cart.push({ ...product, qty: 1 });
    renderCart();
    showNotification(`${product.name} added to cart ✅`);
  }

  function removeFromCart(id) {
    const item = cart.find(i => i.id === id);
    cart = cart.filter(item => item.id !== id);
    renderCart();
    if(item) showNotification(`${item.name} removed from cart ❌`);
  }

  </script>

</body>
</html>
